<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV - Pablo Ahumada</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .font-display {
            font-family: 'Roboto Condensed', sans-serif;
        }
        .font-body {
            font-family: 'Roboto', sans-serif;
        }
        /* Estilos para la l√≠nea de tiempo */
        .timeline-item {
            @apply relative pl-8 md:pl-12 pb-12;
        }
        .timeline-item:last-child {
            @apply pb-0;
        }
        .timeline-line {
            @apply absolute top-0 left-3 w-0.5 h-full bg-slate-300;
        }
        .timeline-point {
            @apply absolute top-1 left-0 w-6 h-6 rounded-full bg-white border-4 border-slate-300;
        }
        .timeline-item:hover .timeline-point {
            @apply border-cyan-600;
        }
        /* Estilos para las p√°ginas internas */
        .page-section {
            display: block; /* Por defecto se muestran */
        }
        .page-section.hidden {
            display: none; /* Se ocultan con la clase hidden */
        }
    </style>
</head>
<body class="bg-slate-200 font-body text-gray-800">

    <!-- Contenedor Principal de la P√°gina -->
    <div id="main-page" class="page-section">
        <main class="w-full max-w-5xl mx-auto p-4">
            <div class="bg-white rounded-lg shadow-2xl overflow-hidden my-10 border-4 border-slate-300">
                
                <!-- Banner Principal -->
                <div>
                    <img src="https://github.com/PANZERBERO/PabloAhumadaCV/raw/main/Header.jpg" 
                         alt="Pablo Ahumada - F√°brica de Soluciones Digitales" 
                         class="w-full h-auto"
                         onerror="this.onerror=null;this.src='https://placehold.co/1200x675/334155/FFFFFF?text=Imagen+no+disponible';">
                </div>

                <div class="p-8 md:p-12">
                    
                    <!-- Hero Block / Manifiesto -->
                    <div class="text-center my-10 max-w-4xl mx-auto">
                        <h1 class="font-display text-4xl md:text-5xl font-bold text-slate-800 leading-tight">
                            ‚ÄúEsto no es marketing. Es ingenier√≠a emocional.‚Äù
                        </h1>
                    </div>

                    <!-- Introducci√≥n a las √°reas -->
                    <div class="text-center max-w-3xl mx-auto mb-10">
                        <p class="text-lg text-slate-700 leading-relaxed font-body">
                           Esta es una forma personal de mirar el trabajo estrat√©gico con marcas.
                           Para m√≠, la ingenier√≠a emocional es observar lo que no siempre se ve: lo que sienten las personas detr√°s de cada interacci√≥n digital. Es darle valor al silencio, al tono, a la duda o al entusiasmo. Y usar esa lectura como materia prima para construir mensajes m√°s humanos, decisiones m√°s acertadas y v√≠nculos m√°s s√≥lidos.
                        </p>
                        <p class="text-lg text-slate-700 leading-relaxed font-body mt-4">
                           En esta f√°brica, las emociones tambi√©n son insumo. Y bien usadas, ayudan a que todo funcione mejor.
                        </p>
                    </div>

                    <!-- Mis √Åreas de Producci√≥n -->
                    <div class="pt-8 border-t-2 border-slate-300">
                        <div class="text-center">
                            <h3 class="font-display text-3xl font-bold text-slate-800 uppercase tracking-wider">Mis √Åreas de Producci√≥n</h3>
                            <p class="text-lg text-slate-600 -mt-1 mb-10">Del taller a la pista: estos son los sistemas que pongo en marcha.</p>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-slate-50 border-2 border-slate-300 rounded-lg p-6 flex flex-col text-center shadow-md hover:shadow-xl transition-shadow duration-300">
                                <img src="https://github.com/PANZERBERO/PabloAhumadaCV/raw/main/Imagen%20SAC.png" alt="Ilustraci√≥n de Pablo con auriculares en el centro de mensajes" class="rounded-md mb-6 w-10/12 h-auto mx-auto">
                                <h4 class="font-display text-2xl font-bold text-slate-800 uppercase">Centro de Mensajes</h4>
                                <p class="font-body text-base font-semibold text-cyan-600 mb-3">Atenci√≥n SAC</p>
                                <p class="font-body text-slate-600 text-base flex-grow">Clasifico, etiqueto y respondo cada mensaje con el tono adecuado seg√∫n la campa√±a y el tipo de consulta.</p>
                                <button data-target="page-sac" class="nav-button mt-6 bg-slate-800 text-white font-display uppercase tracking-wider py-2 px-4 rounded-md hover:bg-cyan-600 transition-colors duration-300">Inspeccionar Sistema</button>
                            </div>
                            <div class="bg-slate-50 border-2 border-slate-300 rounded-lg p-6 flex flex-col text-center shadow-md hover:shadow-xl transition-shadow duration-300">
                                <img src="https://github.com/PANZERBERO/PabloAhumadaCV/raw/main/Imagen%20Gesti%C3%B3n%20de%20Leads.png" alt="Ilustraci√≥n de Pablo con cron√≥metro para trazabilidad de leads" class="rounded-md mb-6 w-10/12 h-auto mx-auto">
                                <h4 class="font-display text-2xl font-bold text-slate-800 uppercase">Trazabilidad de Leads</h4>
                                <p class="font-body text-base font-semibold text-cyan-600 mb-3">Dashboard Comercial</p>
                                <p class="font-body text-slate-600 text-base flex-grow">Permite el seguimiento y conversi√≥n de clientes desde redes sociales hasta la venta final.</p>
                                <button data-target="page-leads" class="nav-button mt-6 bg-slate-800 text-white font-display uppercase tracking-wider py-2 px-4 rounded-md hover:bg-cyan-600 transition-colors duration-300">Inspeccionar Sistema</button>
                            </div>
                            <div class="bg-slate-50 border-2 border-slate-300 rounded-lg p-6 flex flex-col text-center shadow-md hover:shadow-xl transition-shadow duration-300">
                                <img src="https://github.com/PANZERBERO/PabloAhumadaCV/raw/main/Imagen%20Gesti%C3%B3n%20de%20Reclamos.png" alt="Ilustraci√≥n de un taller de reparaci√≥n para gesti√≥n de reclamos" class="rounded-md mb-6 w-10/12 h-auto mx-auto">
                                <h4 class="font-display text-2xl font-bold text-slate-800 uppercase">Gesti√≥n de Reclamos</h4>
                                <p class="font-body text-base font-semibold text-cyan-600 mb-3">Coordinaci√≥n SAC</p>
                                <p class="font-body text-slate-600 text-base flex-grow">Sistema coordinado con servicio al cliente para alinear respuestas y dar una soluci√≥n efectiva y r√°pida.</p>
                                <button data-target="page-reclamos" class="nav-button mt-6 bg-slate-800 text-white font-display uppercase tracking-wider py-2 px-4 rounded-md hover:bg-cyan-600 transition-colors duration-300">Inspeccionar Sistema</button>
                            </div>
                            <div class="bg-slate-50 border-2 border-slate-300 rounded-lg p-6 flex flex-col text-center shadow-md hover:shadow-xl transition-shadow duration-300">
                                <img src="https://github.com/PANZERBERO/PabloAhumadaCV/raw/main/Imagen%20Reporteria.png" alt="Ilustraci√≥n de Pablo con una tablet en la sala de telemetr√≠a" class="rounded-md mb-6 w-10/12 h-auto mx-auto">
                                <h4 class="font-display text-2xl font-bold text-slate-800 uppercase">Sala de Telemetr√≠a</h4>
                                <p class="font-body text-base font-semibold text-cyan-600 mb-3">Reporter√≠a y An√°lisis</p>
                                <p class="font-body text-slate-600 text-base flex-grow">Reportes de rendimiento y an√°lisis comparativo, tanto de mis marcas como de la competencia directa.</p>
                                <button data-target="page-telemetria" class="nav-button mt-6 bg-slate-800 text-white font-display uppercase tracking-wider py-2 px-4 rounded-md hover:bg-cyan-600 transition-colors duration-300">Inspeccionar Sistema</button>
                            </div>
                        </div>
                    </div>

                    <!-- Qui√©n est√° detr√°s de la f√°brica -->
                    <div class="mt-12 pt-8 border-t-2 border-slate-300">
                        <div class="text-center">
                            <h3 class="font-display text-3xl font-bold text-slate-800 uppercase tracking-wider">¬øQui√©n est√° detr√°s de esta F√°brica de Soluciones Digitales?</h3>
                        </div>
                        <div class="mt-8 max-w-3xl mx-auto space-y-4 text-slate-800 leading-relaxed font-body">
                           <p>Soy publicista con m√°s de 15 a√±os de experiencia, muchos de ellos ligados al mundo automotriz. De ah√≠ nace esta met√°fora de la f√°brica: un lugar donde cada √°rea cumple una funci√≥n clave, donde todo se arma con precisi√≥n y prop√≥sito.</p>
                           <p>Pero esta visi√≥n no se limita a autos. Mi enfoque se adapta a cualquier negocio que necesite entender mejor su comunicaci√≥n, ordenar procesos, conectar con personas y tomar decisiones con sentido. Porque, al final, toda marca es una m√°quina en movimiento. Y yo estoy aqu√≠ para que funcione como debe.</p>
                        </div>
                    </div>

                    <!-- Mi Historia Profesional -->
                    <div class="mt-12 pt-8 border-t-2 border-slate-300">
                        <div class="text-center">
                            <h3 class="font-display text-3xl font-bold text-slate-800 uppercase tracking-wider">Mi Historia Profesional</h3>
                        </div>
                        <div class="mt-10 max-w-2xl mx-auto">
                            <div class="relative">
                                <div class="timeline-line"></div>
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <div class="flex items-start gap-4">
                                        <div class="bg-slate-100 p-3 rounded-md border border-slate-300">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" /></svg>
                                        </div>
                                        <div>
                                            <h4 class="font-display text-xl font-bold text-slate-700">Inicios en Agencias</h4>
                                            <p class="mt-1 text-slate-600">Comenc√© en la agencia Raya y posteriormente estuve en McCann Santiago para General Motors a nivel regional.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <div class="flex items-start gap-4">
                                        <div class="bg-slate-100 p-3 rounded-md border border-slate-300">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                                        </div>
                                        <div>
                                            <h4 class="font-display text-xl font-bold text-slate-700">Crecimiento y Consolidaci√≥n</h4>
                                            <p class="mt-1 text-slate-600">Mi paso por la startup Time Jobs y mi posterior consolidaci√≥n en Americar me permitieron fortalecer habilidades en gesti√≥n de comunidades, reporter√≠a y an√°lisis de datos aplicados a decisiones comerciales.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <div class="flex items-start gap-4">
                                        <div class="bg-slate-100 p-3 rounded-md border border-slate-300">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                                        </div>
                                        <div>
                                            <h4 class="font-display text-xl font-bold text-slate-700">Especializaci√≥n en Performance</h4>
                                            <p class="mt-1 text-slate-600">Hoy, en Punta Pacifica Realty, optimizo su canal de YouTube aplicando SEO, an√°lisis de m√©tricas y dise√±o de dashboards, logrando impacto medible y posicionamiento internacional.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="timeline-item">
                                    <div class="timeline-point"></div>
                                    <div class="flex items-start gap-4">
                                        <div class="bg-slate-100 p-3 rounded-md border border-slate-300">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-cyan-600" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" /></svg>
                                        </div>
                                        <div>
                                            <h4 class="font-display text-xl font-bold text-slate-700">Mi Forma de Trabajar</h4>
                                            <p class="mt-1 text-slate-600">He estructurado una metodolog√≠a comparable al funcionamiento de una f√°brica: cada proceso est√° conectado, con enfoque en eficiencia, claridad y resultados sostenibles.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="italic text-center mt-12">
                            ‚ÄúCada experiencia ha sido una pieza clave en este engranaje que hoy impulsa mi forma de trabajar.‚Äù
                        </p>
                    </div>
                </div>
                
                <!-- Footer con Bot√≥n de LinkedIn -->
                <div class="mt-12 pt-8 border-t-2 border-slate-300 text-center">
                    <a href="https://www.linkedin.com/in/pabloahumada/" target="_blank" class="inline-flex items-center gap-3 bg-slate-800 text-white font-display uppercase tracking-wider p-3 md:py-3 md:px-6 rounded-md hover:bg-cyan-600 transition-colors duration-300">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/></svg>
                        <span class="hidden md:inline">Conectar en LinkedIn</span>
                    </a>
                </div>

            </div>
        </main>
    </div>

    <!-- P√ÅGINA INTERNA: CENTRO DE MENSAJES SAC -->
    <section id="page-sac" class="page-section hidden">
        <div class="w-full max-w-5xl mx-auto p-4">
            <div class="bg-white rounded-lg shadow-2xl overflow-hidden my-10 border-4 border-slate-300">
                <div class="p-8 md:p-12">
                    <!-- Header de la P√°gina Interna -->
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h2 class="font-display text-3xl font-bold text-slate-800 uppercase">Sistema de Control</h2>
                            <p class="font-display text-xl text-cyan-600 uppercase tracking-wider">Centro de Mensajes SAC</p>
                        </div>
                        <button data-target="main-page" class="nav-button bg-slate-200 text-slate-800 font-display uppercase tracking-wider py-2 px-5 rounded-md hover:bg-slate-300 transition-colors duration-300 self-center">Volver</button>
                    </div>
                    
                    <!-- Breve Explicaci√≥n -->
                    <div class="mb-10 border-b border-slate-200 pb-6">
                        <p class="text-slate-600 leading-relaxed">Para asegurar una comunicaci√≥n coherente y efectiva, cada interacci√≥n con el cliente pasa por un proceso de tres etapas: se analiza el caso y se genera una respuesta (M√≥dulo 1), se etiqueta seg√∫n un sistema estandarizado (M√≥dulo 2) y se mide el volumen para entender tendencias (M√≥dulo 3).</p>
                    </div>

                    <!-- M√≥dulo 1: Mensajes y Respuestas -->
                    <div class="mb-12">
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">1. Mensajes y Respuestas Tipo</h3>
                        <div class="overflow-x-auto border border-slate-200 rounded-md">
                            <table class="w-full text-sm text-left text-slate-500">
                                <thead class="text-xs text-slate-700 uppercase bg-slate-100 font-display">
                                    <tr>
                                        <th scope="col" class="px-6 py-3 w-1/2">Mensaje del Usuario (Ejemplo)</th>
                                        <th scope="col" class="px-6 py-3 w-1/2">Respuesta Tipo</th>
                                    </tr>
                                </thead>
                                <tbody class="font-body">
                                    <tr class="bg-white border-b"><td class="px-6 py-4 text-slate-600">"Hola, me interesa el nuevo Onix, ¬øme dan el precio por favor?"</td><td class="px-6 py-4 text-slate-600">"¬°Hola! Gracias por tu inter√©s. Para darte informaci√≥n precisa sobre precios y versiones, ¬øpodr√≠as indicarnos un n√∫mero de contacto o correo para que un ejecutivo comercial te asesore sin compromiso? ¬°Saludos!"</td></tr>
                                    <tr class="bg-slate-50 border-b"><td class="px-6 py-4 text-slate-600">"¬°Qu√© incre√≠ble el color de la nueva Silverado! ¬°La quiero!"</td><td class="px-6 py-4 text-slate-600">"¬°Nos encanta que te guste! Ese color realmente destaca la potencia de la Silverado. Gracias por tu comentario, ¬°nos motiva a seguir innovando! üî•"</td></tr>
                                    <tr class="bg-white"><td class="px-6 py-4 text-slate-600">"Llevo una semana esperando que me llamen del servicio t√©cnico. P√©simo servicio."</td><td class="px-6 py-4 text-slate-600">"Lamentamos mucho tu mala experiencia. Por favor, env√≠anos por mensaje privado tu nombre, RUT y la sucursal que visitaste para escalar tu caso de inmediato y darte una soluci√≥n. Tu satisfacci√≥n es nuestra prioridad."</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- M√≥dulo 2: Clasificaci√≥n -->
                     <div class="mb-12">
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">2. Sistema de Clasificaci√≥n</h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-display text-lg font-bold text-slate-600 mb-3">Clasificaci√≥n por Intenci√≥n</h4>
                                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-4 text-center">
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-amber-100 text-amber-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">Venta</span><p class="text-xs text-slate-500 mt-1">Inter√©s de compra directo.</p></div>
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-cyan-100 text-cyan-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">Branding</span><p class="text-xs text-slate-500 mt-1">Comentario positivo sobre la marca.</p></div>
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-rose-100 text-rose-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">Reclamo</span><p class="text-xs text-slate-500 mt-1">Experiencia negativa del cliente.</p></div>
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-indigo-100 text-indigo-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">T√©cnica</span><p class="text-xs text-slate-500 mt-1">Consulta sobre especificaciones.</p></div>
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-purple-100 text-purple-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded">Producto</span><p class="text-xs text-slate-500 mt-1">Menciona un modelo espec√≠fico.</p></div>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-display text-lg font-bold text-slate-600 mb-3">Clasificaci√≥n por Sentimiento</h4>
                                <div class="grid grid-cols-3 gap-4 text-center">
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full">Positivo</span><p class="text-xs text-slate-500 mt-1">El tono del mensaje es favorable.</p></div>
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-slate-200 text-slate-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full">Neutro</span><p class="text-xs text-slate-500 mt-1">El tono es informativo o neutral.</p></div>
                                    <div class="bg-slate-100 p-4 rounded-md"><span class="bg-red-100 text-red-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded-full">Negativo</span><p class="text-xs text-slate-500 mt-1">El tono del mensaje es desfavorable.</p></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- M√≥dulo 3: Gr√°ficos -->
                    <div>
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">3. Volumen de Interacciones (Data Ficticia)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
                            <div class="md:col-span-1 bg-slate-100 p-6 rounded-md text-center">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase">Total Mensajes (YTD)</h4>
                                <div id="gauge-chart"></div>
                            </div>
                            <div class="md:col-span-2 bg-slate-100 p-6 rounded-md">
                                 <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-2">Mensajes por Mes (2025)</h4>
                                <div id="bar-chart"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- P√ÅGINA INTERNA: DASHBOARD COMERCIAL -->
    <section id="page-leads" class="page-section hidden">
         <div class="w-full max-w-5xl mx-auto p-4">
            <div class="bg-white rounded-lg shadow-2xl overflow-hidden my-10 border-4 border-slate-300">
                <div class="p-8 md:p-12">
                    <!-- Header de la P√°gina Interna -->
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h2 class="font-display text-3xl font-bold text-slate-800 uppercase">Sistema de Trazabilidad</h2>
                            <p class="font-display text-xl text-cyan-600 uppercase tracking-wider">Dashboard Comercial</p>
                        </div>
                        <button data-target="main-page" class="nav-button bg-slate-200 text-slate-800 font-display uppercase tracking-wider py-2 px-5 rounded-md hover:bg-slate-300 transition-colors duration-300 self-center">Volver</button>
                    </div>
                    
                    <!-- Breve Explicaci√≥n -->
                    <div class="mb-10 border-b border-slate-200 pb-6">
                        <p class="text-slate-600 leading-relaxed">Este dashboard centraliza los leads generados en canales digitales, proporcionando al equipo comercial una base de datos unificada para el seguimiento. El objetivo es maximizar la tasa de contacto y conversi√≥n, asegurando que ninguna oportunidad se pierda.</p>
                    </div>

                    <!-- Tabla de Leads -->
                    <div class="mb-12">
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">Base de Datos de Leads</h3>
                        <div class="overflow-x-auto border border-slate-200 rounded-md">
                            <table class="w-full text-sm text-left text-slate-500">
                                <thead class="text-xs text-slate-700 uppercase bg-slate-100 font-display">
                                    <tr>
                                        <th scope="col" class="px-4 py-3">Nombre</th>
                                        <th scope="col" class="px-4 py-3">Contacto</th>
                                        <th scope="col" class="px-4 py-3">Ciudad</th>
                                        <th scope="col" class="px-4 py-3">Modelo Inter√©s</th>
                                        <th scope="col" class="px-4 py-3">Estado</th>
                                    </tr>
                                </thead>
                                <tbody class="font-body">
                                    <tr class="bg-white border-b"><td class="px-4 py-3">Ana Rojas</td><td class="px-4 py-3 text-xs">ana.r@email.com<br>+56987654321</td><td class="px-4 py-3">Santiago</td><td class="px-4 py-3">Chevrolet Groove</td><td class="px-4 py-3"><span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Asignado</span></td></tr>
                                    <tr class="bg-slate-50 border-b"><td class="px-4 py-3">Carlos Soto</td><td class="px-4 py-3 text-xs">c.soto@email.com<br>+56912345678</td><td class="px-4 py-3">Vi√±a del Mar</td><td class="px-4 py-3">Chevrolet Onix</td><td class="px-4 py-3"><span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Asignado</span></td></tr>
                                    <tr class="bg-white border-b"><td class="px-4 py-3">Javiera N√∫√±ez</td><td class="px-4 py-3 text-xs">javi.n@email.com<br>+56955554444</td><td class="px-4 py-3">Rancagua</td><td class="px-4 py-3">Chevrolet Tracker</td><td class="px-4 py-3"><span class="bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Pendiente</span></td></tr>
                                    <tr class="bg-slate-50 border-b"><td class="px-4 py-3">Matias Castro</td><td class="px-4 py-3 text-xs">m.castro@email.com<br>+56911112222</td><td class="px-4 py-3">La Serena</td><td class="px-4 py-3">Chevrolet Silverado</td><td class="px-4 py-3"><span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Asignado</span></td></tr>
                                     <tr class="bg-white"><td class="px-4 py-3">Isidora Vera</td><td class="px-4 py-3 text-xs">isi.vera@email.com<br>+56933334444</td><td class="px-4 py-3">Concepci√≥n</td><td class="px-4 py-3">Chevrolet Onix</td><td class="px-4 py-3"><span class="bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Pendiente</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- KPIs y Gr√°ficos -->
                    <div>
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">Indicadores de Rendimiento (Data Ficticia)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-3xl font-bold text-cyan-600">82%</p><p class="text-sm text-slate-500">Leads Contactados</p></div>
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-3xl font-bold text-cyan-600">18%</p><p class="text-sm text-slate-500">Tasa de Cierre (YTD)</p></div>
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-3xl font-bold text-cyan-600">Onix</p><p class="text-sm text-slate-500">Modelo m√°s Cotizado</p></div>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Tasa de Cierre</h4>
                                <div id="donut-chart"></div>
                            </div>
                            <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Modelos m√°s Cotizados</h4>
                                <div id="h-bar-chart"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- P√ÅGINA INTERNA: GESTI√ìN DE RECLAMOS -->
    <section id="page-reclamos" class="page-section hidden">
        <div class="w-full max-w-5xl mx-auto p-4">
            <div class="bg-white rounded-lg shadow-2xl overflow-hidden my-10 border-4 border-slate-300">
                <div class="p-8 md:p-12">
                    <!-- Header de la P√°gina Interna -->
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h2 class="font-display text-3xl font-bold text-slate-800 uppercase">Sistema de Coordinaci√≥n</h2>
                            <p class="font-display text-xl text-cyan-600 uppercase tracking-wider">Gesti√≥n de Reclamos</p>
                        </div>
                        <button data-target="main-page" class="nav-button bg-slate-200 text-slate-800 font-display uppercase tracking-wider py-2 px-5 rounded-md hover:bg-slate-300 transition-colors duration-300 self-center">Volver</button>
                    </div>
                    
                    <!-- Breve Explicaci√≥n -->
                    <div class="mb-10 border-b border-slate-200 pb-6">
                        <p class="text-slate-600 leading-relaxed">Este panel monitorea la resoluci√≥n de reclamos, asegurando una comunicaci√≥n fluida entre el cliente, redes sociales y el equipo de postventa. El objetivo es transformar una experiencia negativa en una oportunidad de fidelizaci√≥n a trav√©s de una gesti√≥n eficiente y transparente.</p>
                    </div>

                    <!-- Tabla de Reclamos -->
                    <div class="mb-12">
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">Casos Activos</h3>
                        <div class="overflow-x-auto border border-slate-200 rounded-md">
                            <table class="w-full text-sm text-left text-slate-500">
                                <thead class="text-xs text-slate-700 uppercase bg-slate-100 font-display">
                                    <tr>
                                        <th scope="col" class="px-4 py-3">Cliente</th>
                                        <th scope="col" class="px-4 py-3">Sucursal</th>
                                        <th scope="col" class="px-4 py-3">Detalle del Reclamo</th>
                                        <th scope="col" class="px-4 py-3">Encargado</th>
                                        <th scope="col" class="px-4 py-3">Estado</th>
                                    </tr>
                                </thead>
                                <tbody class="font-body">
                                    <tr class="bg-white border-b"><td class="px-4 py-3">Fernanda D√≠az</td><td class="px-4 py-3">Antofagasta</td><td class="px-4 py-3">Demora en entrega de veh√≠culo nuevo.</td><td class="px-4 py-3">J. P√©rez</td><td class="px-4 py-3"><span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Resuelto</span></td></tr>
                                    <tr class="bg-slate-50 border-b"><td class="px-4 py-3">Ricardo Morales</td><td class="px-4 py-3">Santiago Centro</td><td class="px-4 py-3">Falla en sistema de audio tras servicio.</td><td class="px-4 py-3">A. Gonz√°lez</td><td class="px-4 py-3"><span class="bg-amber-100 text-amber-800 text-xs font-medium px-2.5 py-0.5 rounded-full">En Proceso</span></td></tr>
                                    <tr class="bg-white border-b"><td class="px-4 py-3">Valentina Soto</td><td class="px-4 py-3">Temuco</td><td class="px-4 py-3">Mala atenci√≥n de vendedor.</td><td class="px-4 py-3">C. Mu√±oz</td><td class="px-4 py-3"><span class="bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Resuelto</span></td></tr>
                                    <tr class="bg-slate-50"><td class="px-4 py-3">Benjam√≠n L√≥pez</td><td class="px-4 py-3">Las Condes</td><td class="px-4 py-3">Cobro indebido en mantenci√≥n.</td><td class="px-4 py-3">A. Gonz√°lez</td><td class="px-4 py-3"><span class="bg-red-100 text-red-800 text-xs font-medium px-2.5 py-0.5 rounded-full">Pendiente</span></td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- KPIs y Gr√°ficos -->
                    <div>
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">An√°lisis de Reclamos (Data Ficticia)</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Tipos de Reclamo</h4>
                                <div id="pie-chart-reclamos"></div>
                            </div>
                            <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Tiempo Medio de Resoluci√≥n</h4>
                                <div id="h-bar-chart-resolucion"></div>
                            </div>
                            <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Sucursales con m√°s Casos</h4>
                                <div id="v-bar-chart-sucursales"></div>
                            </div>
                             <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Modelos con m√°s Casos</h4>
                                <div id="v-bar-chart-modelos"></div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <!-- P√ÅGINA INTERNA: SALA DE TELEMETR√çA -->
    <section id="page-telemetria" class="page-section hidden">
        <div class="w-full max-w-5xl mx-auto p-4">
            <div class="bg-white rounded-lg shadow-2xl overflow-hidden my-10 border-4 border-slate-300">
                <div class="p-8 md:p-12">
                     <!-- Header de la P√°gina Interna -->
                    <div class="flex justify-between items-start mb-6">
                        <div>
                            <h2 class="font-display text-3xl font-bold text-slate-800 uppercase">Sala de Control</h2>
                            <p class="font-display text-xl text-cyan-600 uppercase tracking-wider">Reporter√≠a y An√°lisis</p>
                        </div>
                        <button data-target="main-page" class="nav-button bg-slate-200 text-slate-800 font-display uppercase tracking-wider py-2 px-5 rounded-md hover:bg-slate-300 transition-colors duration-300 self-center">Volver</button>
                    </div>
                    
                    <!-- Breve Explicaci√≥n -->
                    <div class="mb-10 border-b border-slate-200 pb-6">
                        <p class="text-slate-600 leading-relaxed">Esta es la sala de telemetr√≠a, donde los datos se convierten en inteligencia. Aqu√≠ se monitorea el rendimiento de los canales propios, se analiza el posicionamiento frente a la competencia y se consolida un resumen ejecutivo de todas las operaciones de la f√°brica.</p>
                    </div>

                    <!-- Gr√°ficos de Performance -->
                    <div class="mb-12">
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">1. Performance de Canales Propios</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Crecimiento de Comunidad</h4>
                                <div id="area-chart-crecimiento"></div>
                            </div>
                            <div class="bg-slate-100 p-6 rounded-lg">
                                <h4 class="font-display text-lg font-bold text-slate-600 uppercase text-center mb-4">Tasa de Engagement</h4>
                                <div id="area-chart-engagement"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Gr√°fico Competitivo -->
                    <div class="mb-12">
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">2. An√°lisis Competitivo</h3>
                        <div class="bg-slate-100 p-6 rounded-lg">
                            <div id="grouped-bar-chart-competencia"></div>
                        </div>
                    </div>

                    <!-- Resumen de Operaciones -->
                    <div>
                        <h3 class="font-display text-2xl font-bold text-slate-700 mb-4">3. Resumen de Operaciones (YTD)</h3>
                        <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-2xl font-bold text-cyan-600">4,825</p><p class="text-sm text-slate-500">Mensajes Recibidos</p></div>
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-2xl font-bold text-cyan-600">312</p><p class="text-sm text-slate-500">Leads Generados</p></div>
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-2xl font-bold text-cyan-600">Onix</p><p class="text-sm text-slate-500">Modelo m√°s Cotizado</p></div>
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-2xl font-bold text-cyan-600">18%</p><p class="text-sm text-slate-500">Tasa de Conversi√≥n</p></div>
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-2xl font-bold text-cyan-600">33</p><p class="text-sm text-slate-500">Reclamos Gestionados</p></div>
                            <div class="bg-slate-100 p-4 rounded-lg text-center"><p class="font-display text-2xl font-bold text-cyan-600">91%</p><p class="text-sm text-slate-500">Casos Resueltos</p></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bot√≥n Flotante de WhatsApp -->
    <a href="https://wa.me/56978542576" target="_blank" class="fixed bottom-20 right-6 bg-green-500 text-white px-5 py-3 rounded-lg flex items-center justify-center shadow-lg hover:bg-green-600 transition-colors duration-300 z-50 gap-3">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="currentColor">
            <path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.894 11.892-1.99 0-3.903-.52-5.58-1.452l-6.195 1.669zm4.893-6.212c.338.529.718.983 1.14 1.379.842.783 1.843 1.335 2.928 1.693.004.001.008.001.012.001.001 0 .002 0 .003 0 1.1.32 2.252.488 3.42.488 5.421 0 9.82-4.399 9.821-9.821C22.022 6.553 17.62 2.153 12.2 2.153c-5.421 0-9.82 4.399-9.821 9.821 0 2.06.631 4.01 1.792 5.665l.004.007.002.003c.002 0 .003.001.005.001l.001.001c.32 1.054.85 2.029 1.572 2.899z"/>
        </svg>
        <span class="font-display uppercase tracking-wider">¬°Escr√≠beme!</span>
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navButtons = document.querySelectorAll('.nav-button');
            const pages = document.querySelectorAll('.page-section');

            function switchPage(targetId) {
                pages.forEach(page => {
                    if (page.id === targetId) {
                        page.classList.remove('hidden');
                    } else {
                        page.classList.add('hidden');
                    }
                });
                window.scrollTo(0, 0);
            }

            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    switchPage(targetId);
                });
            });

            // --- GR√ÅFICOS D3 ---
            function drawGaugeChart() {
                const container = d3.select("#gauge-chart");
                if (container.select("svg").empty()) {
                    const data = { value: 4825 };
                    const width = 200, height = 120, margin = 20;
                    const radius = Math.min(width, height * 2) / 2 - margin;
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${width / 2}, ${height - margin / 2})`);
                    const arc = d3.arc().innerRadius(radius - 20).outerRadius(radius).startAngle(-Math.PI / 2).endAngle(d => d);
                    svg.append("path").datum(Math.PI / 2).attr("d", arc).attr("fill", "#e5e7eb");
                    svg.append("path").datum((data.value / 10000) * Math.PI - Math.PI / 2).attr("d", arc).attr("fill", "#0891b2");
                    svg.append("text").attr("text-anchor", "middle").attr("dy", "-0.5em").style("font-size", "24px").style("font-weight", "bold").attr("class", "font-display text-slate-800").text(data.value);
                    svg.append("text").attr("text-anchor", "middle").attr("dy", "1.2em").style("font-size", "12px").attr("class", "font-body text-slate-500").text("Mensajes");
                }
            }

            function drawBarChart() {
                const container = d3.select("#bar-chart");
                if (container.select("svg").empty()) {
                    const data = [{ month: "Ene", value: 520 }, { month: "Feb", value: 610 }, { month: "Mar", value: 750 }, { month: "Abr", value: 890 }, { month: "May", value: 810 }, { month: "Jun", value: 940 }, { month: "Jul", value: 1020 }];
                    const width = 450, height = 180, margin = { top: 20, right: 0, bottom: 30, left: 40 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const x = d3.scaleBand().range([0, width - margin.left - margin.right]).domain(data.map(d => d.month)).padding(0.3);
                    const y = d3.scaleLinear().range([height - margin.top - margin.bottom, 0]).domain([0, d3.max(data, d => d.value)]);
                    svg.append("g").attr("transform", `translate(0,${height - margin.top - margin.bottom})`).call(d3.axisBottom(x)).attr("class", "font-body text-slate-500");
                    svg.append("g").call(d3.axisLeft(y).ticks(5)).attr("class", "font-body text-slate-500");
                    svg.selectAll(".bar").data(data).enter().append("rect").attr("class", "bar").attr("x", d => x(d.month)).attr("width", x.bandwidth()).attr("y", d => y(d.value)).attr("height", d => height - margin.top - margin.bottom - y(d.value)).attr("fill", "#0e7490");
                }
            }

            function drawDonutChart() {
                const container = d3.select("#donut-chart");
                if (container.select("svg").empty()) {
                    const data = [{label: "Cerrados", value: 18}, {label: "Pendientes", value: 82}];
                    const width = 200, height = 200, margin = 20;
                    const radius = Math.min(width, height) / 2 - margin;
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${width / 2},${height / 2})`);
                    const color = d3.scaleOrdinal().domain(data.map(d => d.label)).range(["#0e7490", "#e5e7eb"]);
                    const pie = d3.pie().value(d => d.value).sort(null);
                    const arc = d3.arc().innerRadius(radius * 0.6).outerRadius(radius);
                    svg.selectAll('path').data(pie(data)).enter().append('path').attr('d', arc).attr('fill', d => color(d.data.label));
                    svg.append("text").attr("text-anchor", "middle").attr("dy", "0.35em").style("font-size", "28px").style("font-weight", "bold").attr("class", "font-display text-slate-800").text("18%");
                }
            }

            function drawHBarChart() {
                const container = d3.select("#h-bar-chart");
                if (container.select("svg").empty()) {
                    const data = [{model: "Groove", value: 28}, {model: "Tracker", value: 45}, {model: "Onix", value: 82}, {model: "Silverado", value: 35}];
                    data.sort((a, b) => b.value - a.value);
                    const width = 250, height = 160, margin = { top: 10, right: 10, bottom: 20, left: 80 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const y = d3.scaleBand().range([0, height - margin.top - margin.bottom]).domain(data.map(d => d.model)).padding(0.2);
                    const x = d3.scaleLinear().range([0, width - margin.left - margin.right]).domain([0, d3.max(data, d => d.value)]);
                    svg.append("g").call(d3.axisLeft(y)).attr("class", "font-body text-slate-500");
                    svg.selectAll(".bar").data(data).enter().append("rect").attr("class", "bar").attr("y", d => y(d.model)).attr("height", y.bandwidth()).attr("x", 0).attr("width", d => x(d.value)).attr("fill", "#0e7490");
                }
            }
            
            function drawPieReclamos() {
                const container = d3.select("#pie-chart-reclamos");
                if (container.select("svg").empty()){
                    const data = [{label: "Servicio", value: 45}, {label: "Producto", value: 30}, {label: "Atenci√≥n", value: 25}];
                    const width = 200, height = 200, margin = 20;
                    const radius = Math.min(width, height) / 2 - margin;
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${width / 2},${height / 2})`);
                    const color = d3.scaleOrdinal().domain(data.map(d => d.label)).range(["#0e7490", "#67e8f9", "#cbd5e1"]);
                    const pie = d3.pie().value(d => d.value).sort(null);
                    const arc = d3.arc().innerRadius(0).outerRadius(radius);
                    svg.selectAll('path').data(pie(data)).enter().append('path').attr('d', arc).attr('fill', d => color(d.data.label));
                }
            }

            function drawVBarSucursales() {
                const container = d3.select("#v-bar-chart-sucursales");
                if (container.select("svg").empty()){
                    const data = [{name: "SCL Centro", value: 12}, {name: "Las Condes", value: 9}, {name: "Antofagasta", value: 7}, {name: "Temuco", value: 5}];
                    const width = 250, height = 200, margin = { top: 20, right: 20, bottom: 60, left: 40 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const x = d3.scaleBand().range([0, width - margin.left - margin.right]).domain(data.map(d => d.name)).padding(0.3);
                    const y = d3.scaleLinear().range([height - margin.top - margin.bottom, 0]).domain([0, d3.max(data, d => d.value)]);
                    svg.append("g").attr("transform", `translate(0,${height - margin.top - margin.bottom})`).call(d3.axisBottom(x)).selectAll("text").attr("transform", "translate(-10,0)rotate(-45)").style("text-anchor", "end");
                    svg.append("g").call(d3.axisLeft(y).ticks(5));
                    svg.selectAll(".bar").data(data).enter().append("rect").attr("x", d => x(d.name)).attr("width", x.bandwidth()).attr("y", d => y(d.value)).attr("height", d => height - margin.top - margin.bottom - y(d.value)).attr("fill", "#0e7490");
                }
            }
            
            function drawVBarModelos() {
                const container = d3.select("#v-bar-chart-modelos");
                if (container.select("svg").empty()){
                    const data = [{name: "Onix", value: 15}, {name: "Tracker", value: 8}, {name: "Groove", value: 6}, {name: "N400", value: 4}];
                    const width = 250, height = 200, margin = { top: 20, right: 20, bottom: 60, left: 40 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const x = d3.scaleBand().range([0, width - margin.left - margin.right]).domain(data.map(d => d.name)).padding(0.3);
                    const y = d3.scaleLinear().range([height - margin.top - margin.bottom, 0]).domain([0, d3.max(data, d => d.value)]);
                    svg.append("g").attr("transform", `translate(0,${height - margin.top - margin.bottom})`).call(d3.axisBottom(x)).selectAll("text").attr("transform", "translate(-10,0)rotate(-45)").style("text-anchor", "end");
                    svg.append("g").call(d3.axisLeft(y).ticks(5));
                    svg.selectAll(".bar").data(data).enter().append("rect").attr("x", d => x(d.name)).attr("width", x.bandwidth()).attr("y", d => y(d.value)).attr("height", d => height - margin.top - margin.bottom - y(d.value)).attr("fill", "#0e7490");
                }
            }

            function drawHBarResolucion() {
                const container = d3.select("#h-bar-chart-resolucion");
                if (container.select("svg").empty()){
                    const data = [{name: "J. P√©rez", value: 2.5}, {name: "A. Gonz√°lez", value: 3.1}, {name: "C. Mu√±oz", value: 1.8}];
                    data.sort((a,b) => a.value - b.value);
                    const width = 250, height = 200, margin = { top: 20, right: 20, bottom: 20, left: 80 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const y = d3.scaleBand().range([0, height - margin.top - margin.bottom]).domain(data.map(d => d.name)).padding(0.2);
                    const x = d3.scaleLinear().range([0, width - margin.left - margin.right]).domain([0, d3.max(data, d => d.value)]);
                    svg.append("g").call(d3.axisLeft(y));
                    svg.append("g").attr("transform", `translate(0,${height - margin.top - margin.bottom})`).call(d3.axisBottom(x).ticks(4).tickFormat(d => d + " d√≠as"));
                    svg.selectAll(".bar").data(data).enter().append("rect").attr("y", d => y(d.name)).attr("height", y.bandwidth()).attr("x", 0).attr("width", d => x(d.value)).attr("fill", "#0e7490");
                }
            }

            function drawAreaChartCrecimiento() {
                const container = d3.select("#area-chart-crecimiento");
                if (container.select("svg").empty()){
                    const data = [{month: "Ene", value: 12000}, {month: "Feb", value: 12500}, {month: "Mar", value: 13200}, {month: "Abr", value: 14000}, {month: "May", value: 14800}, {month: "Jun", value: 15500}];
                    const width = 400, height = 200, margin = { top: 20, right: 20, bottom: 30, left: 50 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const x = d3.scaleBand().range([0, width - margin.left - margin.right]).domain(data.map(d => d.month)).padding(0.1);
                    const y = d3.scaleLinear().range([height - margin.top - margin.bottom, 0]).domain([11000, d3.max(data, d => d.value)]);
                    svg.append("g").attr("transform", `translate(0,${height - margin.top - margin.bottom})`).call(d3.axisBottom(x));
                    svg.append("g").call(d3.axisLeft(y).ticks(4).tickFormat(d => `${d/1000}k`));
                    const area = d3.area().x(d => x(d.month) + x.bandwidth()/2).y0(height - margin.top - margin.bottom).y1(d => y(d.value));
                    svg.append("path").datum(data).attr("fill", "#67e8f9").attr("d", area);
                    const line = d3.line().x(d => x(d.month) + x.bandwidth()/2).y(d => y(d.value));
                    svg.append("path").datum(data).attr("fill", "none").attr("stroke", "#0e7490").attr("stroke-width", 2).attr("d", line);
                }
            }

            function drawAreaChartEngagement() {
                const container = d3.select("#area-chart-engagement");
                if (container.select("svg").empty()){
                    const data = [{month: "Ene", value: 2.1}, {month: "Feb", value: 2.5}, {month: "Mar", value: 2.3}, {month: "Abr", value: 2.8}, {month: "May", value: 3.1}, {month: "Jun", value: 2.9}];
                    const width = 400, height = 200, margin = { top: 20, right: 20, bottom: 30, left: 50 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const x = d3.scaleBand().range([0, width - margin.left - margin.right]).domain(data.map(d => d.month)).padding(0.1);
                    const y = d3.scaleLinear().range([height - margin.top - margin.bottom, 0]).domain([1.5, d3.max(data, d => d.value)]);
                    svg.append("g").attr("transform", `translate(0,${height - margin.top - margin.bottom})`).call(d3.axisBottom(x));
                    svg.append("g").call(d3.axisLeft(y).ticks(4).tickFormat(d => `${d}%`));
                    const area = d3.area().x(d => x(d.month) + x.bandwidth()/2).y0(height - margin.top - margin.bottom).y1(d => y(d.value));
                    svg.append("path").datum(data).attr("fill", "#67e8f9").attr("d", area);
                    const line = d3.line().x(d => x(d.month) + x.bandwidth()/2).y(d => y(d.value));
                    svg.append("path").datum(data).attr("fill", "none").attr("stroke", "#0e7490").attr("stroke-width", 2).attr("d", line);
                }
            }
            
            function drawGroupedBarChart() {
                const container = d3.select("#grouped-bar-chart-competencia");
                if (container.select("svg").empty()){
                    const data = [
                        { brand: "Chevrolet", growth: 4.5, engagement: 3.1 }, { brand: "Ford", growth: 3.8, engagement: 2.8 },
                        { brand: "Toyota", growth: 4.1, engagement: 2.5 }, { brand: "Kia", growth: 5.2, engagement: 3.5 },
                        { brand: "Hyundai", growth: 4.8, engagement: 3.3 }, { brand: "Nissan", growth: 3.5, engagement: 2.6 }
                    ];
                    const width = 800, height = 300, margin = { top: 20, right: 20, bottom: 30, left: 40 };
                    const svg = container.append("svg").attr("width", width).attr("height", height).append("g").attr("transform", `translate(${margin.left},${margin.top})`);
                    const groups = data.map(d => d.brand);
                    const subgroups = ["growth", "engagement"];
                    const x0 = d3.scaleBand().domain(groups).range([0, width - margin.left - margin.right]).padding(0.2);
                    const x1 = d3.scaleBand().domain(subgroups).range([0, x0.bandwidth()]).padding(0.05);
                    const y = d3.scaleLinear().domain([0, 6]).range([height - margin.top - margin.bottom, 0]);
                    const color = d3.scaleOrdinal().domain(subgroups).range(['#0e7490','#67e8f9']);
                    svg.append("g").attr("transform", `translate(0, ${height - margin.top - margin.bottom})`).call(d3.axisBottom(x0));
                    svg.append("g").call(d3.axisLeft(y).tickFormat(d => `${d}%`));
                    svg.append("g").selectAll("g").data(data).enter().append("g").attr("transform", d => `translate(${x0(d.brand)},0)`)
                        .selectAll("rect").data(d => subgroups.map(key => ({key: key, value: d[key]}))).enter().append("rect")
                        .attr("x", d => x1(d.key)).attr("y", d => y(d.value)).attr("width", x1.bandwidth()).attr("height", d => height - margin.top - margin.bottom - y(d.value)).attr("fill", d => color(d.key));
                }
            }


            // Observadores para dibujar gr√°ficos
            const observers = {};
            function setupObserver(pageId, drawingFunctions) {
                if (observers[pageId]) return;
                const page = document.getElementById(pageId);
                if (!page) return;
                observers[pageId] = new MutationObserver((mutations) => {
                    mutations.forEach((mutation) => {
                        if (mutation.attributeName === 'class' && !mutation.target.classList.contains('hidden')) {
                            drawingFunctions.forEach(func => func());
                        }
                    });
                });
                observers[pageId].observe(page, { attributes: true });
            }

            setupObserver('page-sac', [drawGaugeChart, drawBarChart]);
            setupObserver('page-leads', [drawDonutChart, drawHBarChart]);
            setupObserver('page-reclamos', [drawPieReclamos, drawVBarSucursales, drawVBarModelos, drawHBarResolucion]);
            setupObserver('page-telemetria', [drawAreaChartCrecimiento, drawAreaChartEngagement, drawGroupedBarChart]);
        });
    </script>
</body>
</html>
